<html><head><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}</style>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width">
  <base href="../../">
  <title>Documentation</title>
  <link rel="stylesheet" type="text/css" href="./bower_components/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="./bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
  <!-- Flatdoc theme -->
  <link href="./bower_components/flatdoc/theme-white/style.css" rel="stylesheet">
  <script src="./bower_components/google-code-prettify/bin/prettify.min.js"></script>
  <link rel="stylesheet" type="text/css" href="./bower_components/google-code-prettify/bin/prettify.min.css">
  <link rel="stylesheet" type="text/css" href="./bower_components/font-awesome/css/font-awesome.min.css">
  <!-- DocBase -->
  <link rel="stylesheet" type="text/css" href="./bower_components/docbase/dist/css/main.min.css">
  <!-- Theme -->
  <link rel="stylesheet" type="text/css" href="./styles/theme.css">
  
<script type="text/javascript" async="" src="http://twitter.github.io/typeahead.js/releases/latest/typeahead.bundle.js"></script></head>
<body role="flatdoc" class="no-literate">
  <!-- ngView:  --><div ng-view="" class="ng-scope"><!-- ngInclude: navbarHtml --><nav class="navbar navbar-default navbar-fixed-top ng-scope" ng-include="navbarHtml"><div class="container-fluid ng-scope">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a id="docs-appbase-logo" class="navbar-brand" ng-href="#/" href="#/">
      <img src="./images/docbase.png">
    </a>
  </div>

  <div class="collapse navbar-collapse" id="navbar-collapse">
    <ul class="nav navbar-nav">
      <!-- ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
        <a ng-href=./v2.2.0/addons-and-dependencies/index.html class="dropdown-toggle map_folder ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href=./v2.2.0/addons-and-dependencies/index.html>addons-and-dependencies</a>
        <ul class="dropdown-menu">
          <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/addons-and-dependencies/managing-dependencies.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/addons-and-dependencies/managing-dependencies.html>managing-dependencies</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope ng-hide">
            <a ng-href=./v2.2.0/addons-and-dependencies/index.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/addons-and-dependencies/index.html>index</a>
          </li><!-- end ngRepeat: file in folder.files -->
        </ul>
      </li><!-- end ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
        <a ng-href=./v2.2.0/applications/index.html class="dropdown-toggle map_folder ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href=./v2.2.0/applications/index.html>applications</a>
        <ul class="dropdown-menu">
          <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/applications/applications-and-instances.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/applications/applications-and-instances.html>applications-and-instances</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/applications/dependency-injection.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/applications/dependency-injection.html>dependency-injection</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/applications/initializers.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/applications/initializers.html>initializers</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/applications/run-loop.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/applications/run-loop.html>run-loop</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/applications/services.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/applications/services.html>services</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope ng-hide">
            <a ng-href=./v2.2.0/applications/index.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/applications/index.html>index</a>
          </li><!-- end ngRepeat: file in folder.files -->
        </ul>
      </li><!-- end ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
        <a ng-href=./v2.2.0/components/index.html class="dropdown-toggle map_folder ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href=./v2.2.0/components/index.html>components</a>
        <ul class="dropdown-menu">
          <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/components/customizing-a-components-element.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/components/customizing-a-components-element.html>customizing-a-components-element</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/components/defining-a-component.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/components/defining-a-component.html>defining-a-component</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/components/handling-events.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/components/handling-events.html>handling-events</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/components/passing-properties-to-a-component.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/components/passing-properties-to-a-component.html>passing-properties-to-a-component</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/components/the-component-lifecycle.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/components/the-component-lifecycle.html>the-component-lifecycle</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/components/triggering-changes-with-actions.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/components/triggering-changes-with-actions.html>triggering-changes-with-actions</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/components/wrapping-content-in-a-component.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/components/wrapping-content-in-a-component.html>wrapping-content-in-a-component</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope ng-hide">
            <a ng-href=./v2.2.0/components/index.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/components/index.html>index</a>
          </li><!-- end ngRepeat: file in folder.files -->
        </ul>
      </li><!-- end ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
        <a ng-href=./v2.2.0/configuring-ember/index.html class="dropdown-toggle map_folder ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href=./v2.2.0/configuring-ember/index.html>configuring-ember</a>
        <ul class="dropdown-menu">
          <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/configuring-ember/configuring-ember-cli.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/configuring-ember/configuring-ember-cli.html>configuring-ember-cli</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/configuring-ember/configuring-your-app.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/configuring-ember/configuring-your-app.html>configuring-your-app</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/configuring-ember/debugging.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/configuring-ember/debugging.html>debugging</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/configuring-ember/disabling-prototype-extensions.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/configuring-ember/disabling-prototype-extensions.html>disabling-prototype-extensions</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/configuring-ember/embedding-applications.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/configuring-ember/embedding-applications.html>embedding-applications</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/configuring-ember/feature-flags.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/configuring-ember/feature-flags.html>feature-flags</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/configuring-ember/handling-deprecations.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/configuring-ember/handling-deprecations.html>handling-deprecations</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/configuring-ember/specifying-url-type.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/configuring-ember/specifying-url-type.html>specifying-url-type</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope ng-hide">
            <a ng-href=./v2.2.0/configuring-ember/index.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/configuring-ember/index.html>index</a>
          </li><!-- end ngRepeat: file in folder.files -->
        </ul>
      </li><!-- end ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
        <a ng-href=./v2.2.0/contributing/index.html class="dropdown-toggle map_folder ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href=./v2.2.0/contributing/index.html>contributing</a>
        <ul class="dropdown-menu">
          <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/contributing/adding-new-features.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/contributing/adding-new-features.html>adding-new-features</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/contributing/repositories.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/contributing/repositories.html>repositories</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope ng-hide">
            <a ng-href=./v2.2.0/contributing/index.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/contributing/index.html>index</a>
          </li><!-- end ngRepeat: file in folder.files -->
        </ul>
      </li><!-- end ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
        <a ng-href=./v2.2.0/controllers/index.html class="dropdown-toggle map_folder ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href=./v2.2.0/controllers/index.html>controllers</a>
        <ul class="dropdown-menu">
          <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope">
            <a ng-href=./v2.2.0/controllers/dependencies-between-controllers.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/controllers/dependencies-between-controllers.html>dependencies-between-controllers</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope ng-hide">
            <a ng-href=./v2.2.0/controllers/index.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/controllers/index.html>index</a>
          </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" data-ng-hide="file.name == 'index'" class="ng-scope ng-hide">
            <a ng-href=./v2.2.0/controllers/index.html ng-bind="file.label" class="ng-binding" href=./v2.2.0/controllers/index.html>index</a>
          </li><!-- end ngRepeat: file in folder.files -->
        </ul>
      </li><!-- end ngRepeat: folder in map[currentVersion] -->
    </ul>

    <ul class="nav navbar-nav navbar-right">
       <li class="dropdown search-dropdown">
        <div class="form-group search-form" data-ng-class="{'open-in':search.length &gt; 0}"><span class="twitter-typeahead" style="position: relative; display: inline-block; "><input class="search_field form-control dropdown-toggle appbase-search tt-hint" type="text" style="position: absolute; top: 0px; left: 0px; border-top-color: transparent; border-right-color: transparent; border-bottom-color: transparent; border-left-color: transparent; box-shadow: none; opacity: 1; background-attachment: scroll; background-clip: border-box; background-color: rgb(255, 255, 255); background-image: none; background-origin: padding-box; background-size:  ; background-position: 0% 0%; background-repeat: repeat repeat; " readonly="" autocomplete="off" spellcheck="false" tabindex="-1" dir="ltr"><input class="search_field form-control dropdown-toggle appbase-search tt-input" type="text" placeholder="search" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: top; background-color: transparent; "><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: 'Helvetica Neue', 'Open Sans', sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: 0px; text-indent: 0px; text-rendering: auto; text-transform: none; "></pre><div class="tt-menu" style="position: absolute; top: 100%; left: 0px; z-index: 100; display: none; "><div class="tt-dataset tt-dataset-titles"></div></div></span></div>
      </li>
      <li class="dropdown">
        <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
           <span ng-bind="currentVersion" class="ng-binding">v2.2.0</span> <span class="caret"></span>
        </a>
        <ul class="dropdown-menu version-switcher" role="menu">
          <!-- ngRepeat: version in versions --><li ng-repeat="version in versions" class="ng-scope">
            <a ng-href=./v1.10.0/components/customizing-a-components-element.html ng-bind="version" class="ng-binding" href=./v1.10.0/components/customizing-a-components-element.html>v1.10.0</a>
          </li><!-- end ngRepeat: version in versions --><li ng-repeat="version in versions" class="ng-scope">
            <a ng-href=./v2.0.0/addons-and-dependencies/managing-dependencies.html ng-bind="version" class="ng-binding" href=./v2.0.0/addons-and-dependencies/managing-dependencies.html>v2.0.0</a>
          </li><!-- end ngRepeat: version in versions --><li ng-repeat="version in versions" class="ng-scope">
            <a ng-href=./v2.2.0/addons-and-dependencies/managing-dependencies.html ng-bind="version" class="ng-binding" href=./v2.2.0/addons-and-dependencies/managing-dependencies.html>v2.2.0</a>
          </li><!-- end ngRepeat: version in versions -->
        </ul>
      </li>
      <!-- ngIf: docbaseOptions.method == 'github' --><li class="github-star ng-scope" data-ng-if="docbaseOptions.method == 'github'">
        <iframe src="https://ghbtns.com/github-btn.html?user=farhan687&amp;repo=emberjs&amp;type=star&amp;count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe>
      </li><!-- end ngIf: docbaseOptions.method == 'github' -->
      <!-- ngIf: docbaseOptions.method != 'github' -->
    </ul>
  </div><!-- /.navbar-collapse -->
</div><!-- /.container-fluid -->
</nav>
<!-- ngIf: !index --><div role="flatdoc" class="content-root ng-scope" data-ng-if="!index">
  <div class="menubar fixed">
    <div class="menu section" role="flatdoc-menu"><ul><li id="root-item" class="level-0"><ul class="level-1" id="root-list"><li id="root-item" class="level-1"><ul class="level-2" id="root-list"><li id="-why-is-the-run-loop-useful-item" class="level-2"><a id="-why-is-the-run-loop-useful-link" href="./v2.2.0/applications/run-loop.html#-why-is-the-run-loop-useful" class="level-2" pref="#-why-is-the-run-loop-useful">Why is the run loop useful?</a></li></ul></li><li id="root-item" class="level-1"><ul class="level-2" id="root-list"><li id="-how-does-the-run-loop-work-in-ember-item" class="level-2"><a id="-how-does-the-run-loop-work-in-ember-link" href="./v2.2.0/applications/run-loop.html#-how-does-the-run-loop-work-in-ember" class="level-2" pref="#-how-does-the-run-loop-work-in-ember">How does the Run Loop work in Ember?</a></li></ul></li><li id="root-item" class="level-1"><ul class="level-2" id="root-list"><li id="-what-happens-in-these-queues-item" class="level-2"><a id="-what-happens-in-these-queues-link" href="./v2.2.0/applications/run-loop.html#-what-happens-in-these-queues" class="level-2" pref="#-what-happens-in-these-queues">What happens in these queues?</a></li></ul></li><li id="root-item" class="level-1"><ul class="level-2" id="root-list"><li id="-in-what-order-are-jobs-executed-on-the-queues-item" class="level-2"><a id="-in-what-order-are-jobs-executed-on-the-queues-link" href="./v2.2.0/applications/run-loop.html#-in-what-order-are-jobs-executed-on-the-queues" class="level-2" pref="#-in-what-order-are-jobs-executed-on-the-queues">In what order are jobs executed on the queues?</a></li></ul></li><li id="root-item" class="level-1"><ul class="level-2" id="root-list"><li id="-an-example-of-the-internals-item" class="level-2"><a id="-an-example-of-the-internals-link" href="./v2.2.0/applications/run-loop.html#-an-example-of-the-internals" class="level-2" pref="#-an-example-of-the-internals">An example of the internals</a></li></ul></li><li id="root-item" class="level-1"><ul class="level-2" id="root-list"><li id="-how-do-i-tell-ember-to-start-a-run-loop-item" class="level-2"><a id="-how-do-i-tell-ember-to-start-a-run-loop-link" href="./v2.2.0/applications/run-loop.html#-how-do-i-tell-ember-to-start-a-run-loop" class="level-2" pref="#-how-do-i-tell-ember-to-start-a-run-loop">How do I tell Ember to start a run loop?</a></li></ul></li><li id="root-item" class="level-1"><ul class="level-2" id="root-list"><li id="-what-happens-if-i-forget-to-start-a-run-loop-in-an-async-handler-item" class="level-2"><a id="-what-happens-if-i-forget-to-start-a-run-loop-in-an-async-handler-link" href="./v2.2.0/applications/run-loop.html#-what-happens-if-i-forget-to-start-a-run-loop-in-an-async-handler" class="level-2" pref="#-what-happens-if-i-forget-to-start-a-run-loop-in-an-async-handler">What happens if I forget to start a run loop in an async handler?</a></li></ul></li><li id="root-item" class="level-1"><ul class="level-2" id="root-list"><li id="-how-is-runloop-behaviour-different-when-testing-item" class="level-2"><a id="-how-is-runloop-behaviour-different-when-testing-link" href="./v2.2.0/applications/run-loop.html#-how-is-runloop-behaviour-different-when-testing" class="level-2" pref="#-how-is-runloop-behaviour-different-when-testing">How is runloop behaviour different when testing?</a></li></ul></li><li id="root-item" class="level-1"><ul class="level-2" id="root-list"><li id="-where-can-i-find-more-information-item" class="level-2"><a id="-where-can-i-find-more-information-link" href="./v2.2.0/applications/run-loop.html#-where-can-i-find-more-information" class="level-2" pref="#-where-can-i-find-more-information">Where can I find more information?</a></li></ul></li></ul></li></ul></div>
  </div>
  <div role="flatdoc-content" class="content"><div class="extra_container"><div class="contributors_header">Contributors<span class="pull-right modified-date">Last Modified On : <a href="https://github.com/farhan687/emberjs/commit/8d7fa53e1922d88ad563c8db3b99f4bbbbabb43b">Mar 25, 2016</a></span></div><div class="contributor-container"><a class="contributor" href="https://github.com/farhan687" title="farhan687" target="_blank"><img class="contributor_img img-rounded" src="https://avatars.githubusercontent.com/u/6059027?v=3" alt="farhan687"></a></div></div><div class="clearFix"></div><p>Ember’s internals and most of the code you will write in your applications takes place in a run loop.
The run loop is used to batch, and order (or reorder) work in a way that is most effective and efficient.</p><p>It does so by scheduling work on specific queues.
These queues have a priority, and are processed to completion in priority order.</p><p>For basic Ember app development scenarios, you don’t need to understand the run loop or use it directly.
All common paths are paved nicely for you and don’t require working with the run loop directly.</p><p>The most common case for using the run loop is integrating with a non-Ember API
that includes some sort of asynchronous callback.
For example:</p><ul>
<li>DOM update and event callbacks</li>
<li><code>setTimeout</code> and <code>setInterval</code> callbacks</li>
<li><code>postMessage</code> and <code>messageChannel</code> event handlers</li>
<li>AJAX callbacks</li>
<li>Websocket callbacks</li>
</ul><h2 id="-why-is-the-run-loop-useful">Why is the run loop useful?</h2><p>Very often, batching similar work has benefits.
Web browsers do something quite similar by batching changes to the DOM.</p><p>Consider the following HTML snippet:</p><pre><code class="lang-html prettyprint prettyprinted" style=""><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="string"><span class="atv">"foo"</span></span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="string"><span class="atv">"bar"</span></span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="string"><span class="atv">"baz"</span></span><span class="tag">&gt;&lt;/div&gt;</span></code></pre><p>and executing the following code:</p><pre><code class="lang-javascript prettyprint prettyprinted" style=""><span class="pln">foo</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">height </span><span class="pun">=</span><span class="pln"> </span><span class="string"><span class="str">'</span><span class="number"><span class="str">500</span></span><span class="str">px'</span></span><span class="pln"> </span><span class="comment"><span class="com">// write</span></span><span class="pln">
foo</span><span class="pun">.</span><span class="pln">offsetHeight </span><span class="comment"><span class="com">// read (recalculate style, layout, expensive!)</span></span><span class="pln">

bar</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">height </span><span class="pun">=</span><span class="pln"> </span><span class="string"><span class="str">'</span><span class="number"><span class="str">400</span></span><span class="str">px'</span></span><span class="pln"> </span><span class="comment"><span class="com">// write</span></span><span class="pln">
bar</span><span class="pun">.</span><span class="pln">offsetHeight </span><span class="comment"><span class="com">// read (recalculate style, layout, expensive!)</span></span><span class="pln">

baz</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">height </span><span class="pun">=</span><span class="pln"> </span><span class="string"><span class="str">'</span><span class="number"><span class="str">200</span></span><span class="str">px'</span></span><span class="pln"> </span><span class="comment"><span class="com">// write</span></span><span class="pln">
baz</span><span class="pun">.</span><span class="pln">offsetHeight </span><span class="comment"><span class="com">// read (recalculate style, layout, expensive!)</span></span></code></pre><p>In this example, the sequence of code forced the browser to recalculate style, and relayout after each step.
However, if we were able to batch similar jobs together,
the browser would have only needed to recalculate the style and layout once.</p><pre><code class="lang-javascript prettyprint prettyprinted" style=""><span class="pln">foo</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">height </span><span class="pun">=</span><span class="pln"> </span><span class="string"><span class="str">'</span><span class="number"><span class="str">500</span></span><span class="str">px'</span></span><span class="pln"> </span><span class="comment"><span class="com">// write</span></span><span class="pln">
bar</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">height </span><span class="pun">=</span><span class="pln"> </span><span class="string"><span class="str">'</span><span class="number"><span class="str">400</span></span><span class="str">px'</span></span><span class="pln"> </span><span class="comment"><span class="com">// write</span></span><span class="pln">
baz</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">height </span><span class="pun">=</span><span class="pln"> </span><span class="string"><span class="str">'</span><span class="number"><span class="str">200</span></span><span class="str">px'</span></span><span class="pln"> </span><span class="comment"><span class="com">// write</span></span><span class="pln">

foo</span><span class="pun">.</span><span class="pln">offsetHeight </span><span class="comment"><span class="com">// read (recalculate style, layout, expensive!)</span></span><span class="pln">
bar</span><span class="pun">.</span><span class="pln">offsetHeight </span><span class="comment"><span class="com">// read (fast since style and layout is already known)</span></span><span class="pln">
baz</span><span class="pun">.</span><span class="pln">offsetHeight </span><span class="comment"><span class="com">// read (fast since style and layout is already known)</span></span></code></pre><p>Interestingly, this pattern holds true for many other types of work.
Essentially, batching similar work allows for better pipelining, and further optimization.</p><p>Let’s look at a similar example that is optimized in Ember, starting with a <code>User</code> object:</p><pre><code class="lang-javascript prettyprint prettyprinted" style=""><span class="kwd">var</span><span class="pln"> </span><span class="typ">User</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Ember</span><span class="pun">.</span><span class="typ">Object</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">({</span><span class="pln">
  firstName</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln">
  lastName</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">,</span><span class="pln">
  fullName</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Ember</span><span class="pun">.</span><span class="pln">computed</span><span class="pun">(</span><span class="string"><span class="str">'firstName'</span></span><span class="pun">,</span><span class="pln"> </span><span class="string"><span class="str">'lastName'</span></span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">`</span><span class="pln">$</span><span class="pun">{</span><span class="kwd">this</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="string"><span class="str">'firstName'</span></span><span class="pun">)}</span><span class="pln"> $</span><span class="pun">{</span><span class="kwd">this</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="string"><span class="str">'lastName'</span></span><span class="pun">)}`;</span><span class="pln">
  </span><span class="pun">})</span><span class="pln">
</span><span class="pun">});</span></code></pre><p>and a template to display its attributes:</p><pre><code class="lang-handlebars prettyprint prettyprinted" style=""><span class="pun">{{</span><span class="pln">firstName</span><span class="pun">}}</span><span class="pln">
</span><span class="pun">{{</span><span class="pln">fullName</span><span class="pun">}}</span></code></pre><p>If we execute the following code without the run loop:</p><pre><code class="lang-javascript prettyprint prettyprinted" style=""><span class="kwd">var</span><span class="pln"> user </span><span class="pun">=</span><span class="pln"> </span><span class="typ">User</span><span class="pun">.</span><span class="pln">create</span><span class="pun">({</span><span class="pln"> firstName</span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">'Tom'</span></span><span class="pun">,</span><span class="pln"> lastName</span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">'Huda'</span></span><span class="pln"> </span><span class="pun">});</span><span class="pln">
user</span><span class="pun">.</span><span class="kwd">set</span><span class="pun">(</span><span class="string"><span class="str">'firstName'</span></span><span class="pun">,</span><span class="pln"> </span><span class="string"><span class="str">'Yehuda'</span></span><span class="pun">);</span><span class="pln">
</span><span class="comment"><span class="com">// {{firstName}} and {{fullName}} are updated</span></span><span class="pln">

user</span><span class="pun">.</span><span class="kwd">set</span><span class="pun">(</span><span class="string"><span class="str">'lastName'</span></span><span class="pun">,</span><span class="pln"> </span><span class="string"><span class="str">'Katz'</span></span><span class="pun">);</span><span class="pln">
</span><span class="comment"><span class="com">// {{lastName}} and {{fullName}} are updated</span></span></code></pre><p>We see that the browser will rerender the template twice.</p><p>However, if we have the run loop in the above code,
the browser will only rerender the template once the attributes have all been set.</p><pre><code class="lang-javascript prettyprint prettyprinted" style=""><span class="kwd">var</span><span class="pln"> user </span><span class="pun">=</span><span class="pln"> </span><span class="typ">User</span><span class="pun">.</span><span class="pln">create</span><span class="pun">({</span><span class="pln"> firstName</span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">'Tom'</span></span><span class="pun">,</span><span class="pln"> lastName</span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">'Huda'</span></span><span class="pln"> </span><span class="pun">});</span><span class="pln">
user</span><span class="pun">.</span><span class="kwd">set</span><span class="pun">(</span><span class="string"><span class="str">'firstName'</span></span><span class="pun">,</span><span class="pln"> </span><span class="string"><span class="str">'Yehuda'</span></span><span class="pun">);</span><span class="pln">
user</span><span class="pun">.</span><span class="kwd">set</span><span class="pun">(</span><span class="string"><span class="str">'lastName'</span></span><span class="pun">,</span><span class="pln"> </span><span class="string"><span class="str">'Katz'</span></span><span class="pun">);</span><span class="pln">
user</span><span class="pun">.</span><span class="kwd">set</span><span class="pun">(</span><span class="string"><span class="str">'firstName'</span></span><span class="pun">,</span><span class="pln"> </span><span class="string"><span class="str">'Tom'</span></span><span class="pun">);</span><span class="pln">
user</span><span class="pun">.</span><span class="kwd">set</span><span class="pun">(</span><span class="string"><span class="str">'lastName'</span></span><span class="pun">,</span><span class="pln"> </span><span class="string"><span class="str">'Huda'</span></span><span class="pun">);</span></code></pre><p>In the above example with the run loop, since the user’s attributes end up at the same values as before execution,
the template will not even rerender!</p><p>It is of course possible to optimize these scenarios on a case-by-case basis,
but getting them for free is much nicer.
Using the run loop, we can apply these classes of optimizations not only for each scenario, but holistically app-wide.</p><h2 id="-how-does-the-run-loop-work-in-ember">How does the Run Loop work in Ember?</h2><p>As mentioned earlier, we schedule work (in the form of function invocations) on queues,
and these queues are processed to completion in priority order.</p><p>What are the queues, and what is their priority order?</p><pre><code class="lang-javascript prettyprint prettyprinted" style=""><span class="typ">Ember</span><span class="pun">.</span><span class="pln">run</span><span class="pun">.</span><span class="pln">queues
</span><span class="comment"><span class="com">// =&gt; [</span><span class="string"><span class="com">"sync"</span></span><span class="com">, </span><span class="string"><span class="com">"actions"</span></span><span class="com">, </span><span class="string"><span class="com">"routerTransitions"</span></span><span class="com">, </span><span class="string"><span class="com">"render"</span></span><span class="com">, </span><span class="string"><span class="com">"afterRender"</span></span><span class="com">, </span><span class="string"><span class="com">"destroy"</span></span><span class="com">]</span></span></code></pre><p>Because the priority is first to last, the “sync” queue has higher priority than the “render” or “destroy” queue.</p><h2 id="-what-happens-in-these-queues">What happens in these queues?</h2><ul>
<li>The <code>sync</code> queue contains binding synchronization jobs.</li>
<li>The <code>actions</code> queue is the general work queue and will typically contain scheduled tasks e.g. promises.</li>
<li>The <code>routerTransitions</code> queue contains transition jobs in the router.</li>
<li>The <code>render</code> queue contains jobs meant for rendering, these will typically update the DOM.</li>
<li>The <code>afterRender</code> queue contains jobs meant to be run after all previously scheduled render tasks are complete.
This is often good for 3rd-party DOM manipulation libraries,
that should only be run after an entire tree of DOM has been updated.</li>
<li>The <code>destroy</code> queue contains jobs to finish the teardown of objects other jobs have scheduled to destroy.</li>
</ul><h2 id="-in-what-order-are-jobs-executed-on-the-queues">In what order are jobs executed on the queues?</h2><p>The algorithm works this way:</p><ol>
<li>Let the highest priority queue with pending jobs be: <code>CURRENT_QUEUE</code>,
if there are no queues with pending jobs the run loop is complete</li>
<li>Let a new temporary queue be defined as <code>WORK_QUEUE</code></li>
<li>Move jobs from <code>CURRENT_QUEUE</code> into <code>WORK_QUEUE</code></li>
<li>Process all the jobs sequentially in <code>WORK_QUEUE</code></li>
<li>Return to Step 1</li>
</ol><h2 id="-an-example-of-the-internals">An example of the internals</h2><p>Rather than writing the higher level app code that internally invokes the various run loop scheduling functions,
we have stripped away the covers, and shown the raw run-loop interactions.</p><p>Working with this API directly is not common in most Ember apps,
but understanding this example will help you to understand the run-loops algorithm,
which will make you a better Ember developer.</p><iframe src="https://s3.amazonaws.com/emberjs.com/run-loop-guide/index.html" width="678" height="410" style="border:1px solid rgb(170, 170, 170);margin-bottom:1.5em;"></iframe><h2 id="-how-do-i-tell-ember-to-start-a-run-loop">How do I tell Ember to start a run loop?</h2><p>You should begin a run loop when the callback fires.</p><p>The <code>Ember.run</code> method can be used to create a runloop.
In this example, jQuery and <code>Ember.run</code> are used to handle a click event and run some Ember code.</p><p>This example uses the <code>=&gt;</code> function syntax, which is a [new ES2015 syntax for callback functions]
(<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions</a>)
that provides a lexical <code>this</code>.
If this syntax is new,
think of it as a function that has the same <code>this</code> as the context it is defined in.</p><pre><code class="lang-javascript prettyprint prettyprinted" style=""><span class="pln">$</span><span class="pun">(</span><span class="string"><span class="str">'a'</span></span><span class="pun">).</span><span class="pln">click</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="typ">Ember</span><span class="pun">.</span><span class="pln">run</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">  </span><span class="comment"><span class="com">// begin loop</span></span><span class="pln">
    </span><span class="comment"><span class="com">// Code that results in jobs being scheduled goes here</span></span><span class="pln">
  </span><span class="pun">});</span><span class="pln"> </span><span class="comment"><span class="com">// end loop, jobs are flushed and executed</span></span><span class="pln">
</span><span class="pun">});</span></code></pre><h2 id="-what-happens-if-i-forget-to-start-a-run-loop-in-an-async-handler">What happens if I forget to start a run loop in an async handler?</h2><p>As mentioned above, you should wrap any non-Ember async callbacks in <code>Ember.run</code>.
If you don’t, Ember will try to approximate a beginning and end for you.
Consider the following callback:</p><pre><code class="lang-javascript prettyprint prettyprinted" style=""><span class="pln">$</span><span class="pun">(</span><span class="string"><span class="str">'a'</span></span><span class="pun">).</span><span class="pln">click</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="string"><span class="str">'Doing things...'</span></span><span class="pun">);</span><span class="pln">

  </span><span class="typ">Ember</span><span class="pun">.</span><span class="pln">run</span><span class="pun">.</span><span class="pln">schedule</span><span class="pun">(</span><span class="string"><span class="str">'actions'</span></span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="comment"><span class="com">// Do more things</span></span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre><p>The runloop API calls that <em>schedule</em> work i.e. <a href="http://emberjs.com/api/classes/Ember.run.html#method_schedule"><code>run.schedule</code></a>, <a href="http://emberjs.com/api/classes/Ember.run.html#method_scheduleOnce"><code>run.scheduleOnce</code></a>,
<a href="http://emberjs.com/api/classes/Ember.run.html#method_once"><code>run.once</code></a> have the property that they will approximate a runloop for you if one does not already exist.
These automatically created runloops we call <em>autoruns</em>.</p><p>Here is some pseudocode to describe what happens using the example above:</p><pre><code class="lang-javascript prettyprint prettyprinted" style=""><span class="pln">$</span><span class="pun">(</span><span class="string"><span class="str">'a'</span></span><span class="pun">).</span><span class="pln">click</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="comment"><span class="com">// </span><span class="number"><span class="com">1</span></span><span class="com">. autoruns do not change the execution of arbitrary code in a callback.</span></span><span class="pln">
  </span><span class="comment"><span class="com">//    This code is still run when this callback is executed and will not be</span></span><span class="pln">
  </span><span class="comment"><span class="com">//    scheduled on an autorun.</span></span><span class="pln">
  console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="string"><span class="str">'Doing things...'</span></span><span class="pun">);</span><span class="pln">

  </span><span class="typ">Ember</span><span class="pun">.</span><span class="pln">run</span><span class="pun">.</span><span class="pln">schedule</span><span class="pun">(</span><span class="string"><span class="str">'actions'</span></span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="comment"><span class="com">// </span><span class="number"><span class="com">2</span></span><span class="com">. schedule notices that there is no currently available runloop so it</span></span><span class="pln">
    </span><span class="comment"><span class="com">//    creates one. It schedules it to close and flush queues on the next</span></span><span class="pln">
    </span><span class="comment"><span class="com">//    turn of the JS event loop.</span></span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln"> </span><span class="typ">Ember</span><span class="pun">.</span><span class="pln">run</span><span class="pun">.</span><span class="pln">hasOpenRunloop</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="typ">Ember</span><span class="pun">.</span><span class="pln">run</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span><span class="pln">
      nextTick</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">Ember</span><span class="pun">.</span><span class="pln">run</span><span class="pun">.</span><span class="pln">end</span><span class="pun">()</span><span class="pln">
      </span><span class="pun">},</span><span class="pln"> </span><span class="number"><span class="lit">0</span></span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="comment"><span class="com">// </span><span class="number"><span class="com">3</span></span><span class="com">. There is now a runloop available so schedule adds its item to the</span></span><span class="pln">
    </span><span class="comment"><span class="com">//    given queue</span></span><span class="pln">
    </span><span class="typ">Ember</span><span class="pun">.</span><span class="pln">run</span><span class="pun">.</span><span class="pln">schedule</span><span class="pun">(</span><span class="string"><span class="str">'actions'</span></span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="comment"><span class="com">// Do more things</span></span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

  </span><span class="pun">});</span><span class="pln">

  </span><span class="comment"><span class="com">// </span><span class="number"><span class="com">4</span></span><span class="com">. This schedule sees the autorun created by schedule above as an available</span></span><span class="pln">
  </span><span class="comment"><span class="com">//    runloop and adds its item to the given queue.</span></span><span class="pln">
  </span><span class="typ">Ember</span><span class="pun">.</span><span class="pln">run</span><span class="pun">.</span><span class="pln">schedule</span><span class="pun">(</span><span class="string"><span class="str">'afterRender'</span></span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="comment"><span class="com">// Do yet more things</span></span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code></pre><p>Although autoruns are convenient, they are suboptimal.
The current JS frame is allowed to end before the run loop is flushed,
which sometimes means the browser will take the opportunity to do other things, like garbage collection.
GC running in between data changing and DOM rerendering can cause visual lag and should be minimized.</p><p>Relying on autoruns is not a rigorous or efficient way to use the runloop.
Wrapping event handlers manually is preferred.</p><h2 id="-how-is-runloop-behaviour-different-when-testing">How is runloop behaviour different when testing?</h2><p>When your application is in <em>testing mode</em> then Ember will throw an error if you try to schedule work
without an available runloop.</p><p>Autoruns are disabled in testing for several reasons:</p><ol>
<li>Autoruns are Embers way of not punishing you in production if you forget to open a runloop
before you schedule callbacks on it.
While this is useful in production, these are still situations that should be revealed in testing
to help you find and fix them.</li>
<li>Some of Ember’s test helpers are promises that wait for the run loop to empty before resolving.
If your application has code that runs <em>outside</em> a runloop,
these will resolve too early and give erroneous test failures which are difficult to find.
Disabling autoruns help you identify these scenarios and helps both your testing and your application!</li>
</ol><h2 id="-where-can-i-find-more-information">Where can I find more information?</h2><p>Check out the <a href="http://emberjs.com/api/classes/Ember.run.html">Ember.run</a> API documentation,
as well as the <a href="https://github.com/ebryn/backburner.js/">Backburner library</a> that powers the run loop.</p></div>
  <!-- ngIf: docbaseOptions.method == 'github' --><a data-ng-if="docbaseOptions.method == 'github'" class="edit ng-scope" ng-href="https://github.com/farhan687/emberjs/tree/master/source/v2.2.0/applications/run-loop.md" target="_blank" href="https://github.com/farhan687/emberjs/tree/master/source/v2.2.0/applications/run-loop.md">
    <span class="fa fa-pencil"> Edit</span>
  </a><!-- end ngIf: docbaseOptions.method == 'github' -->
</div><!-- end ngIf: !index -->
<!-- ngIf: index -->
</div>

 <script type="text/javascript" src="./docbase-config.js"></script>
  <script type="text/javascript" src="./bower_components/docbase/dist/js/main.unique.js"></script>



</body><script>$(function(){  $('.search-form').searchAppbase('./search-index.json', true); })</script></html>